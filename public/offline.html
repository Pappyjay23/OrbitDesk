<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preload" href="/fonts/Satoshi-Regular.otf" as="font" type="font/otf" crossorigin>
    <link rel="preload" href="/fonts/Satoshi-Bold.otf" as="font" type="font/otf" crossorigin>
    <link rel="preload" href="/fonts/Satoshi-Black.otf" as="font" type="font/otf" crossorigin>
    <title>Offline - Orbit Desk</title>
    <style>
        @font-face {
            font-family: 'Satoshi';
            src: url('/fonts/Satoshi-Regular.otf') format('otf');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Satoshi';
            src: url('/fonts/Satoshi-Bold.otf') format('otf');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Satoshi';
            src: url('/fonts/Satoshi-Black.otf') format('otf');
            font-weight: 900;
            font-style: normal;
            font-display: swap;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Satoshi', sans-serif;
            color: #fff;
            background: url('/offline-bg.jpg') no-repeat center center;
            background-size: cover;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
        }

        .icon-large {
            width: 5rem;
            height: 5rem;
            margin-bottom: 0.5rem;
        }

        .title {
            font-size: 5rem;
            font-weight: 900;
            margin: -15px 0 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .subtitle {
            text-transform: uppercase;
            font-weight: bold;
            font-size: 0.875rem;
            margin: 0;
        }

        .divider {
            height: 3px;
            width: 80px;
            background: #fff;
            margin: 0px auto 0 auto;
        }

        .message {
            font-weight: bold;
            font-size: 16px;
            width: 80%;
            margin: 0.5rem auto;
        }

        .offline-mode {
            font-size: 0.75rem;
            font-weight: bold;
            display: flex;
            gap: 0.25rem;
            justify-content: center;
            align-items: center;
            margin-top: 0.5rem;
        }

        .reload-btn {
            font-family: "Satoshi", sans-serif;
            cursor: pointer;
            margin-top: 20px;
            padding: 8px 32px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 13px;

        }
    </style>
</head>

<body>
    <section class="container">
        <!-- WiFi Off Icon (RiWifiOffLine) -->
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="icon-large"
            height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12.0001 18C12.7144 18 13.3704 18.2497 13.8856 18.6665L12.0001 21L10.1145 18.6665C10.6297 18.2497 11.2857 18 12.0001 18ZM2.80766 1.39343L20.4853 19.0711L19.0711 20.4853L13.8913 15.3042C13.2967 15.1069 12.6609 15 12.0001 15C10.5719 15 9.26024 15.499 8.22998 16.3322L6.97363 14.7759C8.24961 13.7442 9.84925 13.0969 11.5964 13.01L9.00025 10.414C7.55273 10.8234 6.22651 11.5217 5.0878 12.4426L3.83099 10.8868C4.89946 10.0226 6.10763 9.32438 7.41633 8.83118L5.13168 6.5451C3.98878 7.08913 2.92058 7.76472 1.94666 8.55228L0.689453 6.99674C1.60358 6.25747 2.59156 5.60589 3.64058 5.05479L1.39345 2.80765L2.80766 1.39343ZM14.5004 10.2854L12.2165 8.00243L12 8C15.0947 8 17.9369 9.08141 20.1693 10.8869L18.9123 12.4426C17.6438 11.4167 16.1427 10.6672 14.5004 10.2854ZM12.0001 3.00003C16.2849 3.00003 20.22 4.49719 23.3109 6.99691L22.0534 8.55228C19.3061 6.33062 15.8085 5.00003 12.0001 5.00003C11.122 5.00003 10.2604 5.07077 9.42075 5.20685L7.72455 3.51088C9.09498 3.17702 10.5268 3.00003 12.0001 3.00003Z">
            </path>
        </svg>

        <p class="subtitle">Currently</p>

        <h1 class="title">
            <!-- Power Icon (FiPower) -->
            <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round"
                stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
                <line x1="12" y1="2" x2="12" y2="12"></line>
            </svg>
            ffline
        </h1>

        <div class="divider"></div>

        <p class="message">Don’t worry, your data is safe. We’ll sync when you’re back online.</p>

        <div class="offline-mode">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="font-bold"
                height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12.0001 18C12.7144 18 13.3704 18.2497 13.8856 18.6665L12.0001 21L10.1145 18.6665C10.6297 18.2497 11.2857 18 12.0001 18ZM2.80766 1.39343L20.4853 19.0711L19.0711 20.4853L13.8913 15.3042C13.2967 15.1069 12.6609 15 12.0001 15C10.5719 15 9.26024 15.499 8.22998 16.3322L6.97363 14.7759C8.24961 13.7442 9.84925 13.0969 11.5964 13.01L9.00025 10.414C7.55273 10.8234 6.22651 11.5217 5.0878 12.4426L3.83099 10.8868C4.89946 10.0226 6.10763 9.32438 7.41633 8.83118L5.13168 6.5451C3.98878 7.08913 2.92058 7.76472 1.94666 8.55228L0.689453 6.99674C1.60358 6.25747 2.59156 5.60589 3.64058 5.05479L1.39345 2.80765L2.80766 1.39343ZM14.5004 10.2854L12.2165 8.00243L12 8C15.0947 8 17.9369 9.08141 20.1693 10.8869L18.9123 12.4426C17.6438 11.4167 16.1427 10.6672 14.5004 10.2854ZM12.0001 3.00003C16.2849 3.00003 20.22 4.49719 23.3109 6.99691L22.0534 8.55228C19.3061 6.33062 15.8085 5.00003 12.0001 5.00003C11.122 5.00003 10.2604 5.07077 9.42075 5.20685L7.72455 3.51088C9.09498 3.17702 10.5268 3.00003 12.0001 3.00003Z">
                </path>
            </svg>
            Offline Mode.
        </div>

        <button class="reload-btn" onclick="window.location.reload()">
            Reload
        </button>
    </section>

    <script>
        let isReloading = false;
        let pollInterval;

        function reloadPage() {
            if (!isReloading) {
                isReloading = true;
                console.log('Back online! Reloading...');
                clearInterval(pollInterval);
                window.location.reload();
            }
        }

        // Strategy 1: Listen to online event
        window.addEventListener('online', reloadPage);

        // Strategy 2: Poll by actually trying to fetch (more reliable than navigator.onLine)
        pollInterval = setInterval(async () => {
            try {
                const response = await fetch('/', {
                    method: 'HEAD',
                    cache: 'no-cache',
                    signal: AbortSignal.timeout(2000)
                });
                if (response.ok) {
                    reloadPage();
                }
            } catch (error) {
                // Still offline, do nothing
                console.log('Still offline...');
            }
        }, 3000); // Check every 3 seconds

        // Clean up
        window.addEventListener('beforeunload', () => {
            clearInterval(pollInterval);
        });
    </script>
</body>

</html>